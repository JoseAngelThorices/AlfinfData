<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="AlfinfData.Views.Seleccion.SeleccionPage"
             Title="SeleccionPage"
             BackgroundColor="#e9e9e9">

    <!-- Oculta botón de volver -->
    <Shell.BackButtonBehavior>
        <BackButtonBehavior IsVisible="False" />
    </Shell.BackButtonBehavior>

    <VerticalStackLayout Padding="10" Spacing="10">

        <Label Text="SELECCION"
               HorizontalOptions="Center"
               FontSize="24"
               FontAttributes="Bold"
               TextColor="Black"
               Margin="0,10"/>

        <!-- Picker sin Border -->
        <Picker x:Name="GrupoPicker"
                Title="Selecciona grupo"
                BackgroundColor="#fbffb8"
                TitleColor="Black"
                TextColor="Black"
                HeightRequest="40"
                Margin="5" />

        <!-- Botones de Selección -->
        <HorizontalStackLayout Spacing="10" HorizontalOptions="FillAndExpand">
            <Button Text="SEL. TODOS"
                    BackgroundColor="#71639e"
                    TextColor="White"
                    FontAttributes="Bold"
                    CornerRadius="10"
                    WidthRequest="185"
                    HorizontalOptions="Start" />

            <Button Text="QUITAR TODOS"
                    BackgroundColor="#71639e"
                    TextColor="White"
                    FontAttributes="Bold"
                    CornerRadius="10"
                    WidthRequest="185"
                    HorizontalOptions="End" />
        </HorizontalStackLayout>

        <!-- Encabezado separado de la CollectionView -->
        <Grid Padding="5" ColumnDefinitions="50,*,Auto">
            <Label Text="N.L." FontAttributes="Bold" TextColor="Black"/>
            <Label Text="Nombre" FontAttributes="Bold" TextColor="Black" Grid.Column="1"/>
            <Label Text="Activo" FontAttributes="Bold" TextColor="Black" Grid.Column="2"/>
        </Grid>

        <!-- Lista con borde gris claro y esquinas redondeadas -->
        <Border Stroke="LightGray"
                StrokeShape="RoundRectangle 10"
                BackgroundColor="White"
                Padding="5"
                HeightRequest="550">

            <CollectionView x:Name="ListaUsuarios"
                            ItemsSource="{Binding Empleados}"
                            SelectionMode="None">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="5" ColumnDefinitions="50,*,Auto">
                            <Label Text="{Binding Numero}" TextColor="Black"/>
                            <Label Text="{Binding Nombre}" Grid.Column="1" TextColor="Black"/>
                            <Switch IsToggled="{Binding Activo}" Grid.Column="2"/>
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </Border>

    </VerticalStackLayout>
</ContentPage>
